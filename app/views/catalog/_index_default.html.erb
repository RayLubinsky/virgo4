<%# app/views/catalog/_index_default.html.erb -%>
<%-
  # Default partial to display Blacklight::Document fields in the results view.
  # Compare with @see app/views/catalog/_show_default.html.erb

  doc = document ||= @document
  doc_presenter = index_presenter(doc)

  # The caller may provide additional CSS classes via the :css_class option.
  css_class =
    css_classes(css_class ||= nil) { |classes|
      classes << 'document-metadata dl-horizontal dl-invert'
    }
-%>
<dl class="<%= css_class -%>">
  <%- index_fields(doc).each_pair do |name, field_def| -%>
    <%- next unless should_render_index_field?(doc, field_def) -%>
    <%- next unless (value = doc_presenter.field_value(name)) -%>
    <%- field_css_class = 'blacklight-' + name.parameterize -%>
    <dt class="<%= field_css_class -%>">
      <%= render_index_field_label(doc, field: name) %>
    </dt>
    <dd class="<%= field_css_class -%>">
      <%= value %>
    </dd>
  <%- end -%>
</dl>
